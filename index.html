<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wave Tune</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #101624;
            --secondary-bg: #1A2236;
            --card-glass: rgba(30, 41, 59, 0.7);
            --player-glass: rgba(30, 41, 59, 0.85);
            --text-primary: #F1F5F9;
            --text-secondary: #94A3B8;
            --accent: #7F56D9;
            --accent-hover: #A78BFA;
        }
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: linear-gradient(-45deg, #1A1A2E, #16213E, #0F3460, #533483);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-primary);
            min-height: 100vh;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* Add a subtle noise texture overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.05;
            pointer-events: none;
            z-index: 1;
        }

        /* Add a subtle glow effect to cards */
        .playlist-card {
            position: relative;
            overflow: hidden;
        }

        .playlist-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .playlist-card:hover::after {
            opacity: 1;
        }
        .sidebar-link, .sidebar-link span {
            color: var(--text-secondary);
            transition: color 0.2s;
        }
        .sidebar-link:hover, .sidebar-link:hover span {
            color: var(--accent);
        }
        .playlist-card {
            background: var(--card-glass);
            backdrop-filter: blur(16px);
            border-radius: 1.25rem;
            box-shadow: 0 4px 24px 0 rgba(127,86,217,0.08);
            border: 1px solid rgba(127,86,217,0.12);
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
        }
        .playlist-card:hover {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 8px 32px 0 rgba(127,86,217,0.18);
            background: rgba(127,86,217,0.10);
        }
        .gradient-text {
            background: linear-gradient(45deg, #E94560, #FF6B6B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s infinite linear;
            background-size: 200% 100%;
        }
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem 0 1rem;
        }
        .content-wrapper {
            padding: 2rem 0;
        }
        .player-bar {
            background: var(--player-glass);
            backdrop-filter: blur(24px);
            border-top: 1px solid rgba(127,86,217,0.18);
            box-shadow: 0 -2px 24px 0 rgba(127,86,217,0.10);
        }
        .control-button, #playPauseBtn, #nextBtn, #prevBtn {
            background: var(--accent);
            color: #fff;
            border-radius: 9999px;
            box-shadow: 0 2px 8px 0 rgba(127,86,217,0.18);
            transition: background 0.2s, transform 0.2s;
        }
        .control-button:hover, #playPauseBtn:hover, #nextBtn:hover, #prevBtn:hover {
            background: var(--accent-hover);
            transform: scale(1.08);
        }
        .bg-card {
            background: var(--card-glass);
        }
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }
        .glass {
            background: var(--card-glass);
            backdrop-filter: blur(12px);
            border-radius: 1rem;
            box-shadow: 0 2px 16px 0 rgba(127,86,217,0.10);
        }
        .btn-accent {
            background: var(--accent);
            color: #fff;
            border-radius: 9999px;
            font-weight: 600;
            transition: background 0.2s, transform 0.2s;
        }
        .btn-accent:hover {
            background: var(--accent-hover);
            transform: scale(1.05);
        }
        .footer {
            background: var(--secondary-bg);
            color: var(--text-secondary);
            border-top: 1px solid rgba(127,86,217,0.10);
        }
        .progress-bar {
            cursor: pointer;
            transition: height 0.1s ease-in-out;
        }
        .progress-bar:hover {
            height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 12px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            border: 3px solid rgba(255, 255, 255, 0.1);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        .play-button {
            transition: all 0.3s ease;
            opacity: 0;
        }
        .playlist-card:hover .play-button {
            opacity: 1;
            transform: translateY(0);
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        .sidebar-link {
            transition: all 0.2s ease;
        }
        .sidebar-link:hover {
            transform: translateX(5px);
        }
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            transition: background 0.3s;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        .progress-bar {
            height: 4px;
            transition: height 0.2s;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
        }
        .progress-bar:hover {
            height: 6px;
        }
        .progress-bar .progress {
            background: linear-gradient(90deg, #E94560, #FF6B6B);
            border-radius: 2px;
            transition: width 0.1s linear;
        }
        .volume-control {
            transition: all 0.3s;
            opacity: 0.7;
        }
        .volume-control:hover {
            opacity: 1;
        }
        .loading {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.1) 25%, 
                rgba(255, 255, 255, 0.2) 50%, 
                rgba(255, 255, 255, 0.1) 75%
            );
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        .mini-player {
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideIn 0.3s ease-out;
        }
        .equalizer-slider {
            -webkit-appearance: none;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            outline: none;
        }
        .equalizer-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #E94560;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }
        .equalizer-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        .lyrics-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        .lyrics-content {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--secondary-bg);
            border-radius: 1rem;
            position: relative;
        }
        .lyrics-text {
            white-space: pre-line;
            line-height: 1.8;
            text-align: center;
            font-size: 1.1rem;
        }
        .mini-player {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: var(--secondary-bg);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 100;
            width: 300px;
        }
        .equalizer-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }
        .equalizer-content {
            max-width: 400px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--secondary-bg);
            border-radius: 1rem;
        }
        .equalizer-slider {
            width: 100%;
            margin: 1rem 0;
        }
        .sleep-timer {
            position: fixed;
            bottom: 80px;
            left: 20px;
            background: var(--secondary-bg);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 100;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .playlist-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeIn 0.5s ease-out;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .playlist-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }
        .play-button {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(10px);
        }
        .playlist-card:hover .play-button {
            opacity: 1;
            transform: translateY(0);
        }
        .gradient-text {
            background: linear-gradient(45deg, #E94560, #FF6B6B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s infinite linear;
            background-size: 200% 100%;
        }
        .control-button {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .control-button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }
        .control-button:hover::after {
            width: 100%;
            height: 100%;
        }
        .modal {
            animation: fadeIn 0.3s ease-out;
        }
        .modal-content {
            animation: slideIn 0.3s ease-out;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            transition: background 0.3s;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        .player-bar {
            backdrop-filter: blur(10px);
            background: rgba(26, 26, 46, 0.95);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .progress-bar {
            height: 4px;
            transition: height 0.2s;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
        }
        .progress-bar:hover {
            height: 6px;
        }
        .progress-bar .progress {
            background: linear-gradient(90deg, #E94560, #FF6B6B);
            border-radius: 2px;
            transition: width 0.1s linear;
        }
        .volume-control {
            transition: all 0.3s;
            opacity: 0.7;
        }
        .volume-control:hover {
            opacity: 1;
        }
        .loading {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.1) 25%, 
                rgba(255, 255, 255, 0.2) 50%, 
                rgba(255, 255, 255, 0.1) 75%
            );
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        .mini-player {
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideIn 0.3s ease-out;
        }
        .equalizer-slider {
            -webkit-appearance: none;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            outline: none;
        }
        .equalizer-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #E94560;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }
        .equalizer-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        /* Premium Button Animations */
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        .premium-button {
            animation: float 3s ease-in-out infinite, pulse-glow 2s infinite;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .premium-button:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .premium-button::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }
    </style>
</head>
<body class="text-gray-800">
    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <div class="bg-[#1A1A2E] w-64 p-6 flex-shrink-0 hidden md:flex flex-col shadow-lg">
            <div class="mb-8">
                <h1 class="text-2xl font-bold mb-8 gradient-text">Wave Tune</h1>
                <a href="#" class="flex items-center mb-4 text-gray-300 hover:text-white font-bold sidebar-link">
                    <i class="fa-solid fa-house mr-4"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="flex items-center mb-4 text-gray-300 hover:text-white font-bold">
                    <i class="fa-solid fa-magnifying-glass mr-4"></i>
                    <span>Search</span>
                </a>
                <a href="library.html" class="flex items-center mb-4 text-gray-300 hover:text-white font-bold">
                    <i class="fa-solid fa-bookmark mr-4"></i>
                    <span>Your Library</span>
                </a>
            </div>
            
            <div class="mb-8">
                <a href="create-playlist.html" class="flex items-center mb-4 text-gray-300 hover:text-white font-bold">
                    <div class="bg-white bg-opacity-10 p-1 rounded mr-4">
                        <i class="fa-solid fa-plus text-black"></i>
                    </div>
                    <span>Create Playlist</span>
                </a>
                <a href="liked-songs.html" class="flex items-center text-gray-300 hover:text-white font-bold">
                    <div class="bg-gradient-to-br from-purple-700 to-blue-300 p-1 rounded mr-4">
                        <i class="fa-solid fa-heart text-white"></i>
                    </div>
                    <span>Liked Songs</span>
                </a>
            </div>
            
            <hr class="border-gray-800 mb-4">
            
            <div class="overflow-auto custom-scrollbar flex-1">
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">My Playlist #1</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Chill Vibes</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Workout Mix</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Top Hits 2025</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Study Music</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Road Trip</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Party Mix</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Throwbacks</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Mood Booster</a>
                <a href="#" class="block mb-2 text-gray-300 hover:text-white">Classical Focus</a>
            </div>
        </div>
        
        <!-- Mobile Nav -->
        <div class="md:hidden fixed bottom-20 left-0 right-0 bg-black bg-opacity-95 flex justify-around py-3 z-10 border-t border-gray-800">
            <a href="#" class="flex flex-col items-center">
                <i class="fa-solid fa-house"></i>
                <span class="text-xs mt-1">Home</span>
            </a>
            <a href="#" class="flex flex-col items-center text-gray-300">
                <i class="fa-solid fa-magnifying-glass"></i>
                <span class="text-xs mt-1">Search</span>
            </a>
            <a href="#" class="flex flex-col items-center text-gray-300">
                <i class="fa-solid fa-bookmark"></i>
                <span class="text-xs mt-1">Library</span>
            </a>
        </div>
        
        <!-- Main Content -->
        <div class="main-content flex-1">
            <!-- Top Bar -->
            <div class="bg-white p-4 flex justify-between items-center sticky top-0 z-10 shadow-md">
                <div class="flex items-center space-x-4 flex-1 max-w-2xl">
                    <button class="bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition-all">
                        <i class="fa-solid fa-chevron-left text-gray-600"></i>
                    </button>
                    <button class="bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition-all">
                        <i class="fa-solid fa-chevron-right text-gray-600"></i>
                    </button>
                    <div class="relative flex-1">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fa-solid fa-magnifying-glass text-gray-400"></i>
                        </div>
                        <input type="text" 
                               id="searchInput"
                               class="w-full pl-10 pr-4 py-2 rounded-full bg-gray-100 border-0 focus:ring-2 focus:ring-green-500 focus:bg-white transition-all"
                               placeholder="Search for songs, artists, or playlists"
                        >
                        <!-- Search Results -->
                        <div id="searchResults" class="absolute w-full mt-2 bg-[#1A1A2E] rounded-lg shadow-lg hidden z-50 max-h-96 overflow-y-auto">
                            <div class="p-4">
                                <div id="searchResultsContent" class="space-y-4">
                                    <!-- Results will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center mr-2">
                        <i class="fa-solid fa-music text-[#E94560] text-2xl mr-2"></i>
                        <span class="text-xl font-bold gradient-text">WT</span>
                    </div>
                    <button onclick="openAboutModal()" class="bg-gray-800 text-white rounded-full py-2 px-6 font-bold text-sm hover:scale-105 transition-transform">ABOUT</button>
                    <a href="signup.html">
                        <button class="bg-[#E94560] text-white rounded-full py-2 px-6 font-bold text-sm hover:scale-105 transition-transform">SIGN UP</button>
                    </a>
                    <a href="login.html">
                        <button class="bg-gray-800 text-white rounded-full py-2 px-6 font-bold text-sm hover:scale-105 transition-transform">LOGIN</button>
                    </a>
                    <button class="bg-gray-100 rounded-full p-1 hover:ring-2 hover:ring-gray-300 transition-all flex items-center justify-center w-10 h-10">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-[var(--accent)] text-white font-bold text-base">
                            <i class="fa-solid fa-music mr-1 text-sm"></i>WT
                        </span>
                    </button>
                </div>
            </div>
            
            <!-- About Modal -->
            <div id="aboutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
                <div class="bg-[#1A1A2E] rounded-lg p-8 max-w-2xl w-full mx-4">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">About Wave Tune</h2>
                        <button onclick="closeAboutModal()" class="text-gray-400 hover:text-white">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-6 text-gray-300">
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">Our Mission</h3>
                            <p>Wave Tune is dedicated to providing the best music streaming experience. We believe in connecting people through the universal language of music.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">Features</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li>Stream millions of songs</li>
                                <li>Create and share playlists</li>
                                <li>Discover new music</li>
                                <li>High-quality audio streaming</li>
                                <li>Cross-platform availability</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">Premium Benefits</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li>Ad-free listening experience</li>
                                <li>Offline downloads</li>
                                <li>High-quality audio</li>
                                <li>Exclusive content</li>
                            </ul>
                        </div>
                        
                        <div class="flex justify-center space-x-4 mt-8">
                            <a href="#" class="text-gray-400 hover:text-white">
                                <i class="fab fa-facebook text-2xl"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white">
                                <i class="fab fa-twitter text-2xl"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white">
                                <i class="fab fa-instagram text-2xl"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white">
                                <i class="fab fa-youtube text-2xl"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Premium Banner -->
            <div class="bg-gradient-to-r from-purple-600 to-blue-600 p-4 text-white mb-6">
                <div class="container mx-auto flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold">Upgrade to Premium</h2>
                        <p class="text-sm opacity-90">Get unlimited access to all features</p>
                    </div>
                    <button onclick="openPremiumModal()" class="premium-button bg-white text-purple-600 px-6 py-2 rounded-full font-bold hover:bg-opacity-90 transition-all">
                        Upgrade Now
                    </button>
                </div>
            </div>

            <!-- Premium Modal -->
            <div id="premiumModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
                <div class="bg-[#1A1A2E] rounded-lg p-8 max-w-2xl w-full mx-4">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">Choose Your Premium Plan</h2>
                        <button onclick="closePremiumModal()" class="text-gray-400 hover:text-white">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <!-- Monthly Plan -->
                        <div class="bg-[#2C3E50] rounded-lg p-6 hover:border-2 hover:border-purple-500 transition-all cursor-pointer" onclick="selectPlan('monthly')">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-white">Monthly</h3>
                                    <p class="text-gray-400">Billed monthly</p>
                                </div>
                                <div class="text-right">
                                    <span class="text-3xl font-bold text-white">$9.99</span>
                                    <span class="text-gray-400">/month</span>
                                </div>
                            </div>
                            <ul class="space-y-3 text-gray-300">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Ad-free music listening
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Download songs
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    High quality audio
                                </li>
                            </ul>
                        </div>

                        <!-- Yearly Plan -->
                        <div class="bg-[#2C3E50] rounded-lg p-6 hover:border-2 hover:border-purple-500 transition-all cursor-pointer" onclick="selectPlan('yearly')">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-white">Yearly</h3>
                                    <p class="text-gray-400">Billed annually</p>
                                    <span class="bg-green-500 text-white text-xs px-2 py-1 rounded-full">Save 20%</span>
                                </div>
                                <div class="text-right">
                                    <span class="text-3xl font-bold text-white">$99.99</span>
                                    <span class="text-gray-400">/year</span>
                                </div>
                            </div>
                            <ul class="space-y-3 text-gray-300">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    All Monthly features
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Exclusive content
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Priority support
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Payment Form -->
                    <div id="paymentForm" class="hidden">
                        <h3 class="text-xl font-bold text-white mb-4">Payment Details</h3>
                        <form id="premiumPaymentForm" class="space-y-4">
                            <div>
                                <label class="block text-gray-400 mb-2">Card Number</label>
                                <input type="text" placeholder="1234 5678 9012 3456" class="w-full p-3 rounded bg-[#2C3E50] text-white border border-gray-600 focus:border-purple-500 focus:outline-none">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-400 mb-2">Expiry Date</label>
                                    <input type="text" placeholder="MM/YY" class="w-full p-3 rounded bg-[#2C3E50] text-white border border-gray-600 focus:border-purple-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-gray-400 mb-2">CVV</label>
                                    <input type="text" placeholder="123" class="w-full p-3 rounded bg-[#2C3E50] text-white border border-gray-600 focus:border-purple-500 focus:outline-none">
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-bold hover:bg-purple-700 transition-all">
                                Complete Purchase
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-wrapper">
                <div class="flex-1 overflow-y-auto custom-scrollbar bg-gradient-to-b from-[#2C3E50] to-[#1A1A2E] p-8">
                    <h1 class="text-3xl font-bold mb-6 text-white">Good afternoon</h1>
                    
                    <!-- Top Playlists -->
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                        <a href="liked-songs.html" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="download.png" alt="Liked Songs" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Liked Songs</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="download.jpg" alt="Today's Top Hits" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Today's Top Hits</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="OIP.jpg" alt="Discover Weekly" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Discover Weekly</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2" alt="Chill Vibes" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Chill Vibes</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Rock Classics" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Rock Classics</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2" alt="Study Playlist" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Study Playlist</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Bollywood Hits" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Bollywood Hits</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2" alt="Punjabi Beats" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Punjabi Beats</span>
                        </a>
                        <a href="#" class="bg-[#16213E] rounded flex items-center overflow-hidden hover:bg-[#1A1A2E] transition-all playlist-card shadow-md">
                            <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Hip Hop Mix" class="w-16 h-16">
                            <span class="font-bold ml-4 text-white">Hip Hop Mix</span>
                        </a>
                    </div>
                    
                    <!-- Recently Played -->
                    <div class="mb-8">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold gradient-text">Recently played</h2>
                            <a href="#" class="text-sm text-gray-600 font-bold hover:text-gray-900 transition-colors">See all</a>
                        </div>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7 gap-6">
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=500&h=500&fit=crop" 
                                         alt="Daily Mix 1" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Daily+Mix'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(1)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Daily Mix 1</h3>
                                <p class="text-gray-600 text-sm truncate">Personalized mix for you</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=500&h=500&fit=crop" 
                                         alt="Hot Hits 2025" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Hot+Hits'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(2)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Hot Hits 2025</h3>
                                <p class="text-gray-600 text-sm truncate">The hottest tracks right now</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1516280440614-37939bbacd81?w=500&h=500&fit=crop" 
                                         alt="Chill Lofi Study Beats" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Lofi+Beats'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(3)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Chill Lofi Study Beats</h3>
                                <p class="text-gray-600 text-sm truncate">Perfect for studying</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?w=500&h=500&fit=crop" 
                                         alt="Road Trip Mix" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Road+Trip'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(4)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Road Trip Mix</h3>
                                <p class="text-gray-600 text-sm truncate">Songs for the road</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=500&h=500&fit=crop" 
                                         alt="Workout Motivation" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Workout'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(5)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Workout Motivation</h3>
                                <p class="text-gray-600 text-sm truncate">Energy boost for your workout</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=500&h=500&fit=crop" 
                                         alt="Bollywood Classics" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Bollywood'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(6)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Bollywood Classics</h3>
                                <p class="text-gray-600 text-sm truncate">Timeless Hindi hits</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=500&h=500&fit=crop" 
                                         alt="Punjabi Hits" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Punjabi'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(7)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Punjabi Hits</h3>
                                <p class="text-gray-600 text-sm truncate">Latest Punjabi tracks</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Made For You -->
                    <div class="mb-8">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold gradient-text">Made For You</h2>
                            <a href="#" class="text-sm text-gray-600 font-bold hover:text-gray-900 transition-colors">See all</a>
                        </div>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7 gap-6">
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002fe24d7084be472288cd6ee6c" alt="Discover Weekly" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(8)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Discover Weekly</h3>
                                <p class="text-gray-600 text-sm truncate">New discoveries every Monday</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Release Radar" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(9)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Release Radar</h3>
                                <p class="text-gray-600 text-sm truncate">New releases from artists you follow</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2" alt="Daily Mix 2" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(10)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Daily Mix 2</h3>
                                <p class="text-gray-600 text-sm truncate">Based on your listening history</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Daily Mix 3" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(11)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Daily Mix 3</h3>
                                <p class="text-gray-600 text-sm truncate">Based on your listening history</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002fe24d7084be472288cd6ee6c" alt="On Repeat" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(12)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">On Repeat</h3>
                                <p class="text-gray-600 text-sm truncate">Songs you can't stop playing</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1" alt="Time Capsule" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(13)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Time Capsule</h3>
                                <p class="text-gray-600 text-sm truncate">We made you a personalized playlist</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2" alt="Your Top Songs 2024" class="w-full rounded shadow-lg">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(14)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Your Top Songs 2024</h3>
                                <p class="text-gray-600 text-sm truncate">Your most played tracks this year</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Popular Playlists -->
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold gradient-text">Popular playlists</h2>
                            <a href="#" class="text-sm text-gray-600 font-bold hover:text-gray-900 transition-colors">See all</a>
                        </div>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7 gap-6">
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500&h=500&fit=crop" 
                                         alt="Today's Top Hits" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Top+Hits'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(15)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Today's Top Hits</h3>
                                <p class="text-gray-600 text-sm truncate">The most streamed tracks now</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=500&h=500&fit=crop" 
                                         alt="RapCaviar" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=RapCaviar'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(16)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">RapCaviar</h3>
                                <p class="text-gray-600 text-sm truncate">New rap music releases</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=500&h=500&fit=crop" 
                                         alt="All Out 2020s" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=2020s'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(17)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">All Out 2020s</h3>
                                <p class="text-gray-600 text-sm truncate">The biggest songs of the 2020s</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?w=500&h=500&fit=crop" 
                                         alt="Rock Classics" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Rock'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(18)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Rock Classics</h3>
                                <p class="text-gray-600 text-sm truncate">Rock legends & epic songs</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=500&h=500&fit=crop" 
                                         alt="Pop Mix" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Pop'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(19)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Pop Mix</h3>
                                <p class="text-gray-600 text-sm truncate">Current pop hits</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=500&h=500&fit=crop" 
                                         alt="Bollywood Butter" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Bollywood'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(20)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Bollywood Butter</h3>
                                <p class="text-gray-600 text-sm truncate">Latest Bollywood hits</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all playlist-card group shadow-md">
                                <div class="mb-4 relative">
                                    <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=500&h=500&fit=crop" 
                                         alt="Punjabi 101" 
                                         class="w-full rounded shadow-lg"
                                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300/1DB954/FFFFFF?text=Punjabi'">
                                    <button class="absolute bottom-2 right-2 bg-green-500 rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(21)">
                                        <i class="fa-solid fa-play text-white play-icon"></i>
                                    </button>
                                </div>
                                <h3 class="font-bold truncate">Punjabi 101</h3>
                                <p class="text-gray-600 text-sm truncate">Essential Punjabi tracks</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <footer class="bg-[#1A1A2E] text-gray-400 py-8">
                    <div class="container mx-auto px-4">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <!-- Company Info -->
                            <div>
                                <div class="flex items-center mb-4">
                                    <i class="fa-solid fa-music text-[#E94560] text-2xl mr-2"></i>
                                    <span class="text-xl font-bold gradient-text">Wave Tune</span>
                                </div>
                                <p class="text-sm mb-4">Your ultimate music streaming platform. Discover, create, and share your favorite playlists.</p>
                                <div class="flex space-x-4">
                                    <a href="#" class="hover:text-white transition-colors text-lg">
                                        <i class="fab fa-facebook"></i>
                                    </a>
                                    <a href="#" class="hover:text-white transition-colors text-lg">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                    <a href="#" class="hover:text-white transition-colors text-lg">
                                        <i class="fab fa-instagram"></i>
                                    </a>
                                    <a href="#" class="hover:text-white transition-colors text-lg">
                                        <i class="fab fa-youtube"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Quick Links -->
                            <div>
                                <h3 class="text-white font-bold mb-4">Quick Links</h3>
                                <ul class="space-y-2">
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">About Us</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Careers</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Press</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Blog</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Help Center</a></li>
                                </ul>
                            </div>

                            <!-- Legal -->
                            <div>
                                <h3 class="text-white font-bold mb-4">Legal</h3>
                                <ul class="space-y-2">
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Terms of Service</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Privacy Policy</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Cookie Policy</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Licenses</a></li>
                                    <li><a href="#" class="hover:text-white transition-colors text-sm">Copyright</a></li>
                                </ul>
                            </div>

                            <!-- Contact -->
                            <div>
                                <h3 class="text-white font-bold mb-4">Contact Us</h3>
                                <ul class="space-y-2">
                                    <li class="flex items-center">
                                        <i class="fas fa-envelope mr-2 text-[#E94560]"></i>
                                        <a href="mailto:support@wavetune.com" class="hover:text-white transition-colors text-sm">support@wavetune.com</a>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-phone mr-2 text-[#E94560]"></i>
                                        <a href="tel:+1234567890" class="hover:text-white transition-colors text-sm">+1 (234) 567-890</a>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-map-marker-alt mr-2 text-[#E94560]"></i>
                                        <span class="text-sm">123 Music Street, Melody City, MC 12345</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- Bottom Bar -->
                        <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                            <p class="text-sm mb-4 md:mb-0"> 2024 Wave Tune. All rights reserved.</p>
                            <div class="flex space-x-6">
                                <a href="#" class="text-sm hover:text-white transition-colors">Privacy</a>
                                <a href="#" class="text-sm hover:text-white transition-colors">Terms</a>
                                <a href="#" class="text-sm hover:text-white transition-colors">Cookies</a>
                                <a href="#" class="text-sm hover:text-white transition-colors">Accessibility</a>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>
    
    <!-- Player Bar -->
    <div class="bg-[#1A1A2E] border-t border-gray-700 p-3 grid grid-cols-3 items-center shadow-lg">
        <!-- Audio Element -->
        <audio id="audioPlayer" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
        
        <!-- Song Info -->
        <div class="flex items-center">
            <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=500&h=500&fit=crop" 
                 alt="Album Cover" 
                 class="w-14 h-14 mr-3 rounded shadow-lg pulse-animation"
                 onerror="this.onerror=null; this.src='https://via.placeholder.com/56x56/1DB954/FFFFFF?text=Album'">
            <div>
                <h4 class="font-semibold text-sm text-white">Highway to Digital</h4>
                <p class="text-xs text-gray-400">Web Dev Rockstars</p>
            </div>
            <button class="ml-5 text-gray-400 hover:text-white">
                <i class="fa-regular fa-heart"></i>
            </button>
        </div>
        
        <!-- Player Controls -->
        <div class="flex flex-col items-center justify-center">
            <div class="flex items-center justify-center space-x-4 mb-1">
                <button class="text-gray-400 hover:text-white" id="shuffleBtn">
                    <img src="https://cdn-icons-png.flaticon.com/512/61/61122.png" alt="Shuffle" class="w-4 h-4">
                </button>
                <button class="text-gray-400 hover:text-white" id="prevBtn">
                    <img src="https://cdn-icons-png.flaticon.com/512/27/27123.png" alt="Previous" class="w-4 h-4">
                </button>
                <div class="flex items-center justify-center space-x-4">
                  <button id="playPauseBtn" class="bg-[#E94560] text-white rounded-full p-2 hover:scale-105 transition-transform">
                    <i id="playPauseIcon" class="fas fa-play"></i>
                  </button>
                  <button id="nextBtn" class="bg-gray-700 text-white rounded-full p-2 hover:scale-105 transition-transform">
                    <i class="fas fa-step-forward"></i>
                  </button>
                </div>
                <button class="text-gray-400 hover:text-white" id="repeatBtn">
                    <img src="https://cdn-icons-png.flaticon.com/512/61/61123.png" alt="Repeat" class="w-4 h-4">
                </button>
            </div>
            <div class="w-full flex items-center text-xs space-x-2">
                <span class="text-gray-400" id="currentTime">0:00</span>
                <div class="h-1 bg-gray-700 rounded-full flex-1 progress-bar" id="progressBar">
                    <div class="h-full w-0 bg-[#E94560] rounded-full relative" id="progress">
                        <div class="absolute -right-1.5 -top-1.5 w-3 h-3 bg-[#E94560] rounded-full hidden group-hover:block"></div>
                    </div>
                </div>
                <span class="text-gray-400" id="duration">0:00</span>
            </div>
        </div>
        
        <!-- Volume Controls -->
        <div class="flex items-center justify-end space-x-3">
            <button class="text-gray-600 hover:text-gray-900">
                <img src="https://cdn-icons-png.flaticon.com/512/61/61108.png" alt="Microphone" class="w-4 h-4">
            </button>
            <button class="text-gray-600 hover:text-gray-900">
                <img src="https://cdn-icons-png.flaticon.com/512/61/61109.png" alt="Playlist" class="w-4 h-4">
            </button>
            <button class="text-gray-600 hover:text-gray-900">
                <img src="https://cdn-icons-png.flaticon.com/512/61/61110.png" alt="Devices" class="w-4 h-4">
            </button>
            <div class="flex items-center space-x-2 w-24">
                <button class="text-gray-600 hover:text-gray-900" id="volumeBtn">
                    <img src="https://cdn-icons-png.flaticon.com/512/61/61111.png" alt="Volume" class="w-4 h-4" id="volumeIcon">
                </button>
                <div class="h-1 bg-gray-200 rounded-full flex-1 progress-bar" id="volumeBar">
                    <div class="h-full w-2/3 bg-gray-800 rounded-full relative" id="volumeLevel">
                        <div class="absolute -right-1.5 -top-1.5 w-3 h-3 bg-gray-800 rounded-full hidden group-hover:block"></div>
                    </div>
                </div>
            </div>
            <button class="text-gray-600 hover:text-gray-900">
                <img src="https://cdn-icons-png.flaticon.com/512/61/61112.png" alt="Fullscreen" class="w-4 h-4">
            </button>
        </div>
    </div>

    <!-- Lyrics Modal -->
    <div id="lyricsModal" class="lyrics-modal">
        <div class="lyrics-content">
            <button onclick="closeLyrics()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="text-xl font-bold mb-4" id="lyricsTitle"></h3>
            <div class="lyrics-text" id="lyricsText"></div>
        </div>
    </div>

    <!-- Mini Player -->
    <div id="miniPlayer" class="mini-player">
        <div class="flex items-center justify-between mb-2">
            <div class="flex items-center">
                <img id="miniPlayerCover" src="" alt="Cover" class="w-12 h-12 rounded mr-3">
                <div>
                    <h4 id="miniPlayerTitle" class="font-semibold text-sm"></h4>
                    <p id="miniPlayerArtist" class="text-xs text-gray-400"></p>
                </div>
            </div>
            <button onclick="toggleMiniPlayer()" class="text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="flex items-center justify-center space-x-4">
            <button onclick="playPrevious()" class="text-gray-400 hover:text-white">
                <i class="fas fa-step-backward"></i>
            </button>
            <button onclick="togglePlay()" class="text-white bg-[#E94560] rounded-full p-2">
                <i class="fas fa-play" id="miniPlayerPlayIcon"></i>
            </button>
            <button onclick="playNext()" class="text-gray-400 hover:text-white">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>
    </div>

    <!-- Equalizer Modal -->
    <div id="equalizerModal" class="equalizer-modal">
        <div class="equalizer-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Equalizer</h3>
                <button onclick="closeEqualizer()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Presets</label>
                    <select id="equalizerPreset" class="w-full p-2 rounded bg-gray-700 text-white">
                        <option value="flat">Flat</option>
                        <option value="bass">Bass Boost</option>
                        <option value="treble">Treble Boost</option>
                        <option value="vocal">Vocal Boost</option>
                    </select>
                </div>
                <div id="equalizerSliders" class="space-y-2">
                    <!-- Sliders will be added dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Sleep Timer -->
    <div id="sleepTimer" class="sleep-timer">
        <div class="flex items-center justify-between mb-2">
            <h4 class="font-semibold">Sleep Timer</h4>
            <button onclick="closeSleepTimer()" class="text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="flex space-x-2">
            <button onclick="setSleepTimer(15)" class="px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">15m</button>
            <button onclick="setSleepTimer(30)" class="px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">30m</button>
            <button onclick="setSleepTimer(60)" class="px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">1h</button>
            <button onclick="setSleepTimer(0)" class="px-3 py-1 bg-red-600 rounded hover:bg-red-500">Off</button>
        </div>
    </div>

    <script>
        // Global variables and state management
        const musicData = {
            currentPlaylist: null,
            currentSong: null,
            isPlaying: false,
            isShuffled: false,
            repeatMode: 'none',
            youtubePlayer: null,
            currentSearchResults: [],
            volume: 0.7,
            isMuted: false,
            playlists: [
                {
                    id: 1,
                    name: "Liked Songs",
                    songs: [
                        { 
                            id: 1, 
                            title: "Sunshine", 
                            artist: "OneRepublic", 
                            duration: "2:43", 
                            cover: "https://i.scdn.co/image/ab67616d0000b273c288028f259525923d94b3f7",
                            genre: "Pop",
                            features: ["upbeat", "summer", "feel-good"],
                            mood: "happy"
                        },
                        { 
                            id: 2, 
                            title: "Love Me Like You Do", 
                            artist: "Ellie Goulding", 
                            duration: "4:12", 
                            cover: "https://i.scdn.co/image/ab67616d0000b2732e8ed79e177ff6011076f5f5",
                            genre: "Pop",
                            features: ["romantic", "emotional", "ballad"],
                            mood: "romantic"
                        },
                        { 
                            id: 3, 
                            title: "Sunflower", 
                            artist: "Post Malone & Swae Lee", 
                            duration: "2:38", 
                            cover: "https://i.scdn.co/image/ab67616d0000b273b1c4b76e23414c9f20242268",
                            genre: "Hip-Hop",
                            features: ["upbeat", "summer", "collaboration"],
                            mood: "energetic"
                        },
                        { 
                            id: 4, 
                            title: "Highway to Digital", 
                            artist: "Web Dev Rockstars", 
                            duration: "3:45", 
                            cover: "https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1",
                            genre: "Rock",
                            features: ["energetic", "guitar", "upbeat"],
                            mood: "energetic"
                        }
                    ]
                },
                {
                    id: 2,
                    name: "Today's Top Hits",
                    songs: [
                        { 
                            id: 1, 
                            title: "Highway to Digital", 
                            artist: "Web Dev Rockstars", 
                            duration: "3:45", 
                            cover: "https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1",
                            genre: "Rock",
                            features: ["energetic", "guitar", "upbeat"],
                            mood: "energetic"
                        },
                        { 
                            id: 2, 
                            title: "Digital Dreams", 
                            artist: "Web Dev Rockstars", 
                            duration: "4:20", 
                            cover: "https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2",
                            genre: "Electronic",
                            features: ["synth", "ambient", "calm"],
                            mood: "relaxed"
                        },
                        { 
                            id: 3, 
                            title: "Code Symphony", 
                            artist: "Web Dev Rockstars", 
                            duration: "3:15", 
                            cover: "https://i.scdn.co/image/ab67706f00000002fe24d7084be472288cd6ee6c",
                            genre: "Classical",
                            features: ["orchestral", "complex", "dramatic"],
                            mood: "focused"
                        },
                        { 
                            id: 4, 
                            title: "Binary Beats", 
                            artist: "Tech Tunes", 
                            duration: "3:50", 
                            cover: "https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1",
                            genre: "Electronic",
                            features: ["dance", "synth", "upbeat"],
                            mood: "energetic"
                        },
                        { 
                            id: 5, 
                            title: "Algorithm Anthem", 
                            artist: "Data Diva", 
                            duration: "4:10", 
                            cover: "https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2",
                            genre: "Pop",
                            features: ["catchy", "vocal", "upbeat"],
                            mood: "happy"
                        },
                        { 
                            id: 6, 
                            title: "Cloud Computing", 
                            artist: "Server Symphony", 
                            duration: "5:20", 
                            cover: "https://i.scdn.co/image/ab67706f00000002fe24d7084be472288cd6ee6c",
                            genre: "Ambient",
                            features: ["atmospheric", "calm", "ethereal"],
                            mood: "relaxed"
                        },
                        { 
                            id: 7, 
                            title: "Debug Dance", 
                            artist: "Bug Beats", 
                            duration: "3:30", 
                            cover: "https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1",
                            genre: "Dance",
                            features: ["electronic", "upbeat", "energetic"],
                            mood: "energetic"
                        },
                        { 
                            id: 8, 
                            title: "API Love Song", 
                            artist: "Endpoints Ensemble", 
                            duration: "4:15", 
                            cover: "https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2",
                            genre: "Pop",
                            features: ["romantic", "vocal", "melodic"],
                            mood: "romantic"
                        }
                    ]
                },
                {
                    id: 2,
                    name: "Chill Vibes",
                    songs: [
                        { 
                            id: 9, 
                            title: "Lofi Coding", 
                            artist: "Study Sessions", 
                            duration: "3:45", 
                            cover: "https://i.scdn.co/image/ab67706f00000002fe24d7084be472288cd6ee6c",
                            genre: "Lo-fi",
                            features: ["relaxing", "ambient", "study"],
                            mood: "focused"
                        },
                        { 
                            id: 10, 
                            title: "Coffee Break", 
                            artist: "Caffeine Crew", 
                            duration: "4:00", 
                            cover: "https://i.scdn.co/image/ab67706f00000002b0fe40a6e1692822f5a9d8f1",
                            genre: "Jazz",
                            features: ["smooth", "instrumental", "relaxing"],
                            mood: "relaxed"
                        }
                    ]
                },
                {
                    id: 3,
                    name: "Night Sky Hip Hop",
                    songs: [
                        {
                            id: 101,
                            title: "Night Sky Hip Hop",
                            artist: "Michael Ramir C.",
                            duration: "4:17", // Approximate duration from Mixkit
                            cover: "https://via.placeholder.com/40", // Placeholder cover
                            genre: "Hip-Hop",
                            features: ["intense", "motivational", "synth"],
                            mood: "aggressive",
                            audioUrl: "https://file.mixkit.co/music/download/mixkit-night-sky-hip-hop-3146.mp3"
                        }
                    ]
                }
            ]
        };

        // Error handling utility
        function handleError(error, message = 'An error occurred') {
            console.error(error);
            showNotification(message, 'error');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${
                type === 'error' ? 'bg-red-500' : 'bg-green-500'
            } text-white`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        // Initialize all components
        function initializeApp() {
            try {
                initializePlayer();
                initializeSearch();
                initializeEventListeners();
                loadUserPreferences();
            } catch (error) {
                console.error('Initialization error:', error);
                // Silently handle initialization errors
            }
        }

        // Initialize player with error handling
        function initializePlayer() {
            try {
                const audio = document.getElementById('audioPlayer');
                if (!audio) throw new Error('Audio player not found');

                // Set initial volume
                audio.volume = musicData.volume;
                updateVolumeUI();

                // Add error handling for audio
                audio.addEventListener('error', (e) => {
                    handleError(e, 'Error playing audio');
                    musicData.isPlaying = false;
                    updatePlayPauseIcon();
                });

                // Handle audio ending
                audio.addEventListener('ended', handleAudioEnd);
            } catch (error) {
                handleError(error, 'Failed to initialize player');
            }
        }

        // Initialize search functionality
        function initializeSearch() {
            const searchInput = document.getElementById('searchInput');
            if (!searchInput) return;

            let searchTimeout;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                const query = e.target.value.trim();
                
                if (query.length >= 2) {
                    searchTimeout = setTimeout(() => performSearch(query), 300);
                } else {
                    document.getElementById('searchResults').classList.add('hidden');
                }
            });
        }

        // Initialize event listeners
        function initializeEventListeners() {
            // Player controls
            document.getElementById('playPauseBtn')?.addEventListener('click', togglePlay);
            document.getElementById('nextBtn')?.addEventListener('click', playNext);
            document.getElementById('prevBtn')?.addEventListener('click', playPrevious);
            document.getElementById('shuffleBtn')?.addEventListener('click', toggleShuffle);
            document.getElementById('repeatBtn')?.addEventListener('click', toggleRepeat);

            // Volume controls
            const volumeBar = document.getElementById('volumeBar');
            if (volumeBar) {
                volumeBar.addEventListener('click', handleVolumeChange);
            }

            // Progress bar
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.addEventListener('click', handleProgressChange);
            }

            // Close search results when clicking outside
            document.addEventListener('click', (e) => {
                const searchResults = document.getElementById('searchResults');
                const searchInput = document.getElementById('searchInput');
                if (!searchResults?.contains(e.target) && !searchInput?.contains(e.target)) {
                    searchResults?.classList.add('hidden');
                }
            });
        }

        // Load user preferences
        function loadUserPreferences() {
            try {
                const savedVolume = localStorage.getItem('volume');
                const savedTheme = localStorage.getItem('theme');
                
                if (savedVolume) {
                    musicData.volume = parseFloat(savedVolume);
                    updateVolumeUI();
                }
                
                if (savedTheme) {
                    document.documentElement.classList.toggle('dark', savedTheme === 'dark');
                }
            } catch (error) {
                handleError(error, 'Failed to load preferences');
            }
        }

        // Save user preferences
        function saveUserPreferences() {
            try {
                localStorage.setItem('volume', musicData.volume.toString());
                localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
            } catch (error) {
                handleError(error, 'Failed to save preferences');
            }
        }

        // Handle volume change
        function handleVolumeChange(e) {
            try {
                const volumeBar = document.getElementById('volumeBar');
                const percent = e.offsetX / volumeBar.offsetWidth;
                musicData.volume = Math.max(0, Math.min(1, percent));
                updateVolumeUI();
                saveUserPreferences();
            } catch (error) {
                handleError(error, 'Failed to change volume');
            }
        }

        // Update volume UI
        function updateVolumeUI() {
            try {
                const audio = document.getElementById('audioPlayer');
                const volumeLevel = document.getElementById('volumeLevel');
                const volumeIcon = document.getElementById('volumeIcon');
                
                if (audio) audio.volume = musicData.volume;
                if (volumeLevel) volumeLevel.style.width = `${musicData.volume * 100}%`;
                if (volumeIcon) {
                    volumeIcon.className = musicData.volume === 0 ? 'fas fa-volume-mute' :
                        musicData.volume < 0.5 ? 'fas fa-volume-down' : 'fas fa-volume-up';
                }
            } catch (error) {
                handleError(error, 'Failed to update volume UI');
            }
        }

        // Handle progress change
        function handleProgressChange(e) {
            try {
                const progressBar = document.getElementById('progressBar');
                const audio = document.getElementById('audioPlayer');
                if (!progressBar || !audio) return;

                const percent = e.offsetX / progressBar.offsetWidth;
                audio.currentTime = percent * audio.duration;
            } catch (error) {
                handleError(error, 'Failed to change progress');
            }
        }

        // Handle audio end
        function handleAudioEnd() {
            try {
                if (musicData.repeatMode === 'one') {
                    const audio = document.getElementById('audioPlayer');
                    audio.currentTime = 0;
                    audio.play();
                } else if (musicData.repeatMode === 'all' || musicData.currentPlaylist) {
                    playNext();
                } else {
                    musicData.isPlaying = false;
                    updatePlayPauseIcon();
                }
            } catch (error) {
                handleError(error, 'Failed to handle audio end');
            }
        }

        // Toggle play/pause with error handling
        function togglePlay() {
            try {
                if (musicData.youtubePlayer) {
                    if (musicData.isPlaying) {
                        musicData.youtubePlayer.pauseVideo();
                    } else {
                        musicData.youtubePlayer.playVideo();
                    }
                } else {
                    const audio = document.getElementById('audioPlayer');
                    if (!audio.src) {
                        if (musicData.currentPlaylist?.songs.length > 0) {
                            loadSong(musicData.currentPlaylist.songs[0]);
                        } else {
                            showNotification('No song selected', 'error');
                            return;
                        }
                    }

                    if (musicData.isPlaying) {
                        audio.pause();
                    } else {
                        const playPromise = audio.play();
                        if (playPromise !== undefined) {
                            playPromise.catch(error => {
                                handleError(error, 'Failed to play audio');
                            });
                        }
                    }
                }
                musicData.isPlaying = !musicData.isPlaying;
                updatePlayPauseIcon();
            } catch (error) {
                handleError(error, 'Failed to toggle play');
            }
        }

        // Update play/pause icon
        function updatePlayPauseIcon() {
            try {
                const playPauseIcon = document.getElementById('playPauseIcon');
                if (playPauseIcon) {
                    playPauseIcon.className = musicData.isPlaying ? 'fas fa-pause' : 'fas fa-play';
                }
            } catch (error) {
                handleError(error, 'Failed to update play/pause icon');
            }
        }

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);

        // Handle window unload
        window.addEventListener('beforeunload', saveUserPreferences);

        // Add these variables at the top of your script
        const YOUTUBE_API_KEY = 'YOUR_YOUTUBE_API_KEY'; // You'll need to replace this with your actual API key
        let currentSearchResults = [];

        // Update the search functionality
        async function performSearch(query) {
            if (query.length < 2) {
                document.getElementById('searchResults').classList.add('hidden');
                return;
            }

            try {
                // Show loading state
                const searchResultsContent = document.getElementById('searchResultsContent');
                searchResultsContent.innerHTML = '<div class="text-center text-gray-400">Searching...</div>';
                document.getElementById('searchResults').classList.remove('hidden');

                // Search YouTube
                const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(query + ' music')}&type=video&maxResults=10&key=${YOUTUBE_API_KEY}`);
                const data = await response.json();

                if (data.items && data.items.length > 0) {
                    currentSearchResults = data.items;
                    displaySearchResults(data.items);
                } else {
                    searchResultsContent.innerHTML = '<div class="text-center text-gray-400">No results found</div>';
                }
            } catch (error) {
                console.error('Search error:', error);
                document.getElementById('searchResultsContent').innerHTML = 
                    '<div class="text-center text-red-400">Error searching for songs. Please try again.</div>';
            }
        }

        function displaySearchResults(results) {
            const searchResultsContent = document.getElementById('searchResultsContent');
            searchResultsContent.innerHTML = results.map((item, index) => `
                <div class="flex items-center space-x-4 p-2 hover:bg-[#2C3E50] rounded-lg cursor-pointer" 
                     onclick="playSearchResult(${index})">
                    <img src="${item.snippet.thumbnails.default.url}" 
                         alt="${item.snippet.title}" 
                         class="w-16 h-16 rounded">
                    <div class="flex-1">
                        <h4 class="text-white font-medium">${item.snippet.title}</h4>
                        <p class="text-gray-400 text-sm">${item.snippet.channelTitle}</p>
                    </div>
                    <button class="text-[#E94560] hover:text-[#FF6B6B]">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
            `).join('');
        }

        function playSearchResult(index) {
            const video = currentSearchResults[index];
            if (!video) return;

            // Update player UI
            const audio = document.getElementById('audioPlayer');
            const songTitle = document.querySelector('.player-bar h4');
            const songArtist = document.querySelector('.player-bar p');
            const albumCover = document.querySelector('.player-bar img');

            // Update player information
            songTitle.textContent = video.snippet.title;
            songArtist.textContent = video.snippet.channelTitle;
            albumCover.src = video.snippet.thumbnails.high.url;

            // Create a YouTube iframe player
            const playerDiv = document.createElement('div');
            playerDiv.id = 'youtubePlayer';
            playerDiv.style.display = 'none';
            document.body.appendChild(playerDiv);

            // Initialize YouTube player
            new YT.Player('youtubePlayer', {
                height: '0',
                width: '0',
                videoId: video.id.videoId,
                playerVars: {
                    'autoplay': 1,
                    'controls': 0
                },
                events: {
                    'onStateChange': onPlayerStateChange
                }
            });

            // Hide search results
            document.getElementById('searchResults').classList.add('hidden');
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.ENDED) {
                // Handle song end
                musicData.isPlaying = false;
                updatePlayPauseIcon();
            }
        }

        // Update the search input event listener
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.trim();
            if (query.length >= 2) {
                performSearch(query);
            } else {
                document.getElementById('searchResults').classList.add('hidden');
            }
        });

        // Add YouTube API script
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // Initialize YouTube API
        window.onYouTubeIframeAPIReady = function() {
            console.log('YouTube API Ready');
        };

        // Update the togglePlay function to handle YouTube playback
        function togglePlay() {
            if (window.youtubePlayer) {
                if (musicData.isPlaying) {
                    window.youtubePlayer.pauseVideo();
                } else {
                    window.youtubePlayer.playVideo();
                }
                musicData.isPlaying = !musicData.isPlaying;
                updatePlayPauseIcon();
            }
        }

        // Initialize player
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize player
            initializePlayer();
            
            // Add click handler for Liked Songs - using a more direct selector
            document.querySelectorAll('a').forEach(link => {
                if (link.textContent.includes('Liked Songs')) {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        window.location.href = 'liked-songs.html';
                    });
                }
            });

            // Add click handlers for play buttons
            document.querySelectorAll('.play-button').forEach(button => {
                button.addEventListener('click', function() {
                    const playlistCard = this.closest('.playlist-card');
                    const playlistName = playlistCard.querySelector('h3').textContent;
                    const playlist = musicData.playlists.find(p => p.name === playlistName);
                    if (playlist && playlist.songs.length > 0) {
                        musicData.currentPlaylist = playlist;
                        loadSong(playlist.songs[0]);
                    }
                });
            });
        });

        // Player functions
        function initializePlayer() {
            const audio = document.getElementById('audioPlayer');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            const progressBar = document.getElementById('progressBar');
            const progress = document.getElementById('progress');
            const currentTimeSpan = document.getElementById('currentTime');
            const durationSpan = document.getElementById('duration');
            const volumeBar = document.getElementById('volumeBar');
            const volumeLevel = document.getElementById('volumeLevel');
            const volumeBtn = document.getElementById('volumeBtn');
            const volumeIcon = document.getElementById('volumeIcon');

            // Set initial volume
            audio.volume = 0.7;
            volumeLevel.style.width = '70%';

            // Play/Pause
            playPauseBtn.addEventListener('click', () => {
                if (!audio.src) {
                    // If no song is loaded, load the first song from the current playlist
                    if (musicData.currentPlaylist && musicData.currentPlaylist.songs.length > 0) {
                        loadSong(musicData.currentPlaylist.songs[0]);
                    } else {
                        console.log('No playlist or songs available');
                        return;
                    }
                }
                togglePlay();
            });

            // Progress bar
            progressBar.addEventListener('click', (e) => {
                if (audio.duration) {
                    const percent = e.offsetX / progressBar.offsetWidth;
                    audio.currentTime = percent * audio.duration;
                }
            });

            // Volume control
            volumeBar.addEventListener('click', (e) => {
                const percent = e.offsetX / volumeBar.offsetWidth;
                audio.volume = percent;
                volumeLevel.style.width = `${percent * 100}%`;
                updateVolumeIcon(percent);
            });

            // Time update
            audio.addEventListener('timeupdate', () => {
                if (audio.duration) {
                    const percent = (audio.currentTime / audio.duration) * 100;
                    progress.style.width = `${percent}%`;
                    currentTimeSpan.textContent = formatTime(audio.currentTime);
                }
            });

            // Duration update
            audio.addEventListener('loadedmetadata', () => {
                durationSpan.textContent = formatTime(audio.duration);
            });

            // Volume button
            volumeBtn.addEventListener('click', () => {
                if (audio.volume > 0) {
                    audio.volume = 0;
                    volumeLevel.style.width = '0%';
                } else {
                    audio.volume = 0.7;
                    volumeLevel.style.width = '70%';
                }
                updateVolumeIcon(audio.volume);
            });

            // Error handling
            audio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                alert('Error loading audio. Please try another song.');
                musicData.isPlaying = false;
                updatePlayPauseIcon();
            });

            // Handle audio ending
            audio.addEventListener('ended', () => {
                if (musicData.currentPlaylist) {
                    const nextIndex = (musicData.currentSongIndex + 1) % musicData.currentPlaylist.songs.length;
                    loadSong(musicData.currentPlaylist.songs[nextIndex]);
                }
            });
        }

        function loadSong(song) {
            console.log('Loading song:', song);
            const audio = document.getElementById('audioPlayer');
            const songTitle = document.querySelector('.player-bar h4');
            const songArtist = document.querySelector('.player-bar p');
            const albumCover = document.querySelector('.player-bar img');

            // Update audio source with a direct URL
            audio.src = song.audioUrl || `https://www.soundhelix.com/examples/mp3/SoundHelix-Song-${song.id}.mp3`;
            
            // Update UI
            if (songTitle) songTitle.textContent = song.title;
            if (songArtist) songArtist.textContent = song.artist;
            if (albumCover) albumCover.src = song.cover;
            
            // Play the song with error handling
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    musicData.currentSong = song;
                    musicData.isPlaying = true;
                    updatePlayPauseIcon();
                }).catch(error => {
                    console.error('Error playing song:', error);
                    alert('Unable to play the song. Please try again.');
                    musicData.isPlaying = false;
                    updatePlayPauseIcon();
                });
            }
        }

        function togglePlay() {
            const audio = document.getElementById('audioPlayer');
            if (!audio.src) {
                console.log('No audio source available');
                return;
            }

            if (musicData.isPlaying) {
                audio.pause();
            } else {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.error('Playback failed:', error);
                        alert('Unable to play the song. Please try again.');
                    });
                }
            }
            musicData.isPlaying = !musicData.isPlaying;
            updatePlayPauseIcon();
        }

        function updatePlayPauseIcon() {
            const playPauseIcon = document.getElementById('playPauseIcon');
            if (playPauseIcon) {
                playPauseIcon.src = musicData.isPlaying ? 
                    "https://cdn-icons-png.flaticon.com/512/27/27223.png" : 
                    "https://cdn-icons-png.flaticon.com/512/27/27223.png";
            }
        }

        function updateVolumeIcon(volume) {
            const volumeIcon = document.getElementById('volumeIcon');
            if (volume === 0) {
                volumeIcon.src = "https://cdn-icons-png.flaticon.com/512/61/61111.png";
            } else if (volume < 0.5) {
                volumeIcon.src = "https://cdn-icons-png.flaticon.com/512/61/61111.png";
            } else {
                volumeIcon.src = "https://cdn-icons-png.flaticon.com/512/61/61111.png";
            }
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function createSongCard(song) {
            return `
                <div class="bg-white p-4 rounded-lg hover:bg-gray-50 transition-all song-card group shadow-md">
                    <div class="mb-4 relative">
                        <img src="${song.cover}" alt="${song.title}" class="w-full rounded shadow-lg">
                        <button class="absolute bottom-2 right-2 bg-[#E94560] rounded-full p-3 shadow-lg play-button transform translate-y-2 hover:scale-110 transition-all" onclick="toggleSongPlay(${song.id})">
                            <i class="fa-solid fa-play text-white play-icon"></i>
                        </button>
                    </div>
                    <h3 class="font-bold truncate">${song.title}</h3>
                    <p class="text-gray-600 text-sm truncate">${song.artist}</p>
                </div>
            `;
        }

        // Add play/pause functionality
        let currentlyPlayingSongId = null;

        function toggleSongPlay(songId) {
            const button = document.querySelector(`button[onclick="toggleSongPlay(${songId})"]`);
            const icon = button.querySelector('.play-icon');
            
            if (currentlyPlayingSongId === songId) {
                // Toggle play/pause
                icon.classList.toggle('fa-play');
                icon.classList.toggle('fa-pause');
            } else {
                // Stop previous playback
                if (currentlyPlayingSongId) {
                    const prevButton = document.querySelector(`button[onclick="toggleSongPlay(${currentlyPlayingSongId})"]`);
                    const prevIcon = prevButton.querySelector('.play-icon');
                    prevIcon.classList.remove('fa-pause');
                    prevIcon.classList.add('fa-play');
                }
                
                // Start new playback
                icon.classList.remove('fa-play');
                icon.classList.add('fa-pause');
                currentlyPlayingSongId = songId;
            }
        }

        // Update mini player play/pause icon
        function updateMiniPlayerIcon(isPlaying) {
            const miniPlayerIcon = document.getElementById('miniPlayerPlayIcon');
            if (miniPlayerIcon) {
                miniPlayerIcon.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
            }
        }

        // Update main player play/pause icon
        function updateMainPlayerIcon(isPlaying) {
            const playPauseIcon = document.getElementById('playPauseIcon');
            if (playPauseIcon) {
                playPauseIcon.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
            }
        }

        // Add premium modal functions
        function openPremiumModal() {
            document.getElementById('premiumModal').classList.remove('hidden');
            document.getElementById('premiumModal').classList.add('flex');
        }

        function closePremiumModal() {
            document.getElementById('premiumModal').classList.add('hidden');
            document.getElementById('premiumModal').classList.remove('flex');
            document.getElementById('paymentForm').classList.add('hidden');
        }

        function selectPlan(plan) {
            const paymentForm = document.getElementById('paymentForm');
            paymentForm.classList.remove('hidden');
            
            // Scroll to payment form
            paymentForm.scrollIntoView({ behavior: 'smooth' });
        }

        // Handle premium payment form submission
        document.getElementById('premiumPaymentForm').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent form submission
            
            // Get form values
            const cardNumber = this.querySelector('input[placeholder="1234 5678 9012 3456"]').value;
            const expiryDate = this.querySelector('input[placeholder="MM/YY"]').value;
            const cvv = this.querySelector('input[placeholder="123"]').value;
            
            // Basic validation
            if (!cardNumber || !expiryDate || !cvv) {
                showNotification('Please fill in all payment details', 'error');
                return;
            }
            
            // Show success message
            showNotification('Thank you for your purchase! Your premium subscription is now active.', 'success');
            
            // Close the modal
            closePremiumModal();
            
            // Reset the form
            this.reset();
        });

        // Add these functions to your existing script
        function openAboutModal() {
            document.getElementById('aboutModal').classList.remove('hidden');
            document.getElementById('aboutModal').classList.add('flex');
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').classList.add('hidden');
            document.getElementById('aboutModal').classList.remove('flex');
        }
    </script>
</body>
</html>